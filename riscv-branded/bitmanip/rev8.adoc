== Byte-reverse
:page-partial:

Mnemonic::
rev8 _rd_, _rs_

IMPORTANT: There are two different rev8 instructions - one for RV32 and one for RV64. I will defined seperate instruction in the near future. KAD

Encoding::
[wavedrom, , svg]
....
{reg:[
    { bits:  7, name: 0x13, attr: ['OP-IMM'] },
    { bits:  5, name: 'rd' },
    { bits:  3, name: 0x5 },
    { bits:  5, name: 'rs' },
    { bits: 12, name: 0x6b8 }
]}
....

Description:: 
Byte-reverses operand _rs_ and puts the result in register _rd_.

Operation::
[source,sail]
--
let input = X(rs);
let output : xlenbits = 0;
let j = xlen;

foreach (i from 0 to xlen by 8) {
   output[i..i+7] := input[j - 7 ..j];
   j := j - 8;
}

X[rd] = output
--

Comment::

The byte-reverse operation is only available for the full register
width.  To emulate word-sized and halfword-sized byte-reversal,
perform a `rev8` followed by a `srli`/`srai` (depending on signedness
of the original operand).
